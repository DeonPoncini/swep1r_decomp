; FUN_00484780
PUSH EBX
MOV EBX,dword ptr [ESP + 0x8]
PUSH ESI
PUSH EDI
XOR ESI,ESI
XOR EDI,EDI
TEST EBX,EBX
JZ 0x00484819
MOV EDX,dword ptr [ESP + 0x14]
XOR EAX,EAX
MOV CL,byte ptr [EDX]
TEST CL,CL
JZ 0x004847b4
CMP CL,0x5c
JNZ 0x004847ab
MOV EDI,0x1
MOV ESI,EAX
MOV CL,byte ptr [EAX + EDX*0x1 + 0x1]
INC EAX
TEST CL,CL
JNZ 0x0048479f
TEST EDI,EDI
JZ 0x004847b9
INC ESI
ADD ESI,EDX
PUSH ESI
PUSH 0x800
PUSH 0x50cd18
CALL 0x0049f850
MOV ECX,dword ptr [ESP + 0x24]
ADD ESP,0xc
MOV ESI,0x800
LEA EDX,[EAX + 0x50cd18]
SUB ESI,EAX
PUSH ECX
PUSH 0x4c7d68
PUSH ESI
PUSH EDX
MOV EDI,EAX
CALL 0x0049f850
MOV ECX,dword ptr [ESP + 0x2c]
ADD ESP,0x10
SUB ESI,EAX
ADD EDI,EAX
LEA EAX,[ESP + 0x20]
PUSH EAX
PUSH ECX
LEA EDX,[EDI + 0x50cd18]
PUSH ESI
PUSH EDX
CALL 0x004a10e0
ADD ESP,0x10
PUSH 0x50cd18
CALL EBX
ADD ESP,0x4
POP EDI
POP ESI
XOR EAX,EAX
POP EBX
RET
