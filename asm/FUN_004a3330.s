; FUN_004a3330
PUSH EBX
PUSH EBP
PUSH ESI
PUSH EDI
MOV EDI,dword ptr [0x004d220c]
CMP dword ptr [EDI + 0x10],-0x1
JZ 0x004a33e4
XOR EBP,EBP
LEA ESI,[EDI + 0x2010]
MOV EBX,0x3ff000
CMP dword ptr [ESI],0xf0
JNZ 0x004a33a0
MOV EAX,dword ptr [EDI + 0x10]
PUSH 0x4000
ADD EAX,EBX
PUSH 0x1000
PUSH EAX
CALL dword ptr [0x004ac154]
TEST EAX,EAX
JZ 0x004a33a0
MOV dword ptr [ESI],0xffffffff
MOV EDX,dword ptr [0x00dfab60]
DEC EDX
MOV dword ptr [0x00dfab60],EDX
MOV EAX,dword ptr [EDI + 0xc]
TEST EAX,EAX
JZ 0x004a3391
CMP EAX,ESI
JBE 0x004a3394
MOV dword ptr [EDI + 0xc],ESI
MOV EAX,dword ptr [ESP + 0x14]
INC EBP
DEC EAX
MOV dword ptr [ESP + 0x14],EAX
JZ 0x004a33ad
SUB EBX,0x1000
SUB ESI,0x8
TEST EBX,EBX
JGE 0x004a3351
MOV EDX,EDI
MOV EDI,dword ptr [EDI + 0x4]
TEST EBP,EBP
JZ 0x004a33e4
CMP dword ptr [EDX + 0x18],-0x1
JNZ 0x004a33e4
MOV EAX,0x1
LEA ECX,[EDX + 0x20]
CMP dword ptr [ECX],-0x1
JNZ 0x004a33d4
INC EAX
ADD ECX,0x8
CMP EAX,0x400
JL 0x004a33c4
CMP EAX,0x400
JNZ 0x004a33e4
PUSH EDX
CALL 0x004a32d0
ADD ESP,0x4
CMP EDI,dword ptr [0x004d220c]
JZ 0x004a33f8
MOV EAX,dword ptr [ESP + 0x14]
TEST EAX,EAX
JG 0x004a333a
POP EDI
POP ESI
POP EBP
POP EBX
RET
