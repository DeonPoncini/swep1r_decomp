; FUN_00486170
SUB ESP,0x304
MOV EAX,[0x0050febc]
PUSH EBX
PUSH ESI
XOR EBX,EBX
XOR ESI,ESI
CMP EAX,EBX
MOV dword ptr [ESP + 0x8],0x20
JBE 0x00486328
PUSH EDI
PUSH EBP
LEA EAX,[ESI + ESI*0x4]
LEA EDX,[ESP + 0x10]
SHL EAX,0x3
SUB EAX,ESI
PUSH EBX
PUSH EDX
LEA EDX,[ESP + 0x11c]
LEA EDI,[ESI + EAX*0x4]
PUSH EDX
PUSH 0x10
MOV EAX,dword ptr [EDI*0x4 + 0x50d89c]
PUSH EAX
MOV ECX,dword ptr [EAX]
CALL dword ptr [ECX + 0x28]
CMP EAX,0x8007001e
JLE 0x004861cd
SUB EAX,EBX
JZ 0x0048626c
DEC EAX
JZ 0x004861df
MOV EDI,dword ptr [EDI*0x4 + 0x50d89c]
PUSH EDI
MOV EAX,dword ptr [EDI]
CALL dword ptr [EAX + 0x1c]
JMP 0x00486318
MOV EDI,dword ptr [EDI*0x4 + 0x50d89c]
LEA EDX,[ESP + 0x14]
PUSH EDX
PUSH 0x100
MOV ECX,dword ptr [EDI]
PUSH EDI
CALL dword ptr [ECX + 0x24]
CMP EAX,EBX
JL 0x00486318
MOV EDI,dword ptr [0x0050fed8]
XOR ESI,ESI
MOV EAX,0x50e028
XOR ECX,ECX
MOV CL,byte ptr [ESP + ESI*0x1 + 0x14]
CMP ECX,EBX
JZ 0x00486240
CMP dword ptr [ESI*0x4 + 0x50e868],EBX
JNZ 0x0048623c
MOV ECX,dword ptr [ESI*0x4 + 0x50f668]
MOV dword ptr [ESI*0x4 + 0x50e868],0x1
INC ECX
MOV dword ptr [EAX],EBX
MOV dword ptr [ESI*0x4 + 0x50f668],ECX
JMP 0x0048625c
CMP ECX,EBX
JNZ 0x0048625c
CMP dword ptr [ESI*0x4 + 0x50e868],EBX
JZ 0x0048625c
MOV ECX,dword ptr [EAX]
MOV dword ptr [ESI*0x4 + 0x50e868],EBX
CMP ECX,EBX
JNZ 0x00486258
MOV dword ptr [EAX],EDI
MOV ECX,dword ptr [EAX]
MOV dword ptr [EAX],ECX
ADD EAX,0x4
INC ESI
CMP EAX,0x50e428
JC 0x0048620b
JMP 0x00486318
MOV EAX,dword ptr [ESP + 0x10]
XOR ESI,ESI
CMP EAX,EBX
JBE 0x00486318
MOV EBX,dword ptr [0x0050fecc]
LEA EDX,[ESP + 0x118]
MOV EBP,EAX
MOV ESI,EAX
MOV EDI,dword ptr [EDX]
MOV ECX,dword ptr [EDX + 0x4]
MOV EAX,dword ptr [EDX + -0x4]
TEST EDI,EDI
JZ 0x004862cc
CMP dword ptr [EAX*0x4 + 0x50e868],0x0
JNZ 0x004862c8
MOV EDI,EBX
MOV dword ptr [EAX*0x4 + 0x50e868],0x1
SUB EDI,ECX
MOV ECX,dword ptr [EAX*0x4 + 0x50f668]
INC ECX
MOV dword ptr [EAX*0x4 + 0x50e028],EDI
MOV dword ptr [EAX*0x4 + 0x50f668],ECX
JMP 0x0048630c
TEST EDI,EDI
JNZ 0x0048630c
MOV EDI,dword ptr [EAX*0x4 + 0x50e868]
TEST EDI,EDI
JZ 0x0048630c
MOV EDI,dword ptr [EAX*0x4 + 0x50e028]
MOV dword ptr [EAX*0x4 + 0x50e868],0x0
TEST EDI,EDI
JNZ 0x004862fa
MOV EDI,dword ptr [0x0050fed8]
MOV dword ptr [EAX*0x4 + 0x50e028],EDI
MOV EDI,dword ptr [EAX*0x4 + 0x50e028]
SUB ECX,EBX
ADD EDI,ECX
MOV dword ptr [EAX*0x4 + 0x50e028],EDI
ADD EDX,0x10
DEC EBP
JNZ 0x0048628b
XOR EBX,EBX
MOV EAX,[0x0050febc]
INC ESI
CMP ESI,EAX
JC 0x00486193
POP EBP
POP EDI
POP ESI
POP EBX
ADD ESP,0x304
RET
