; FUN_004173c0
SUB ESP,0x400
PUSH EBX
PUSH EBP
PUSH ESI
PUSH EDI
MOV EDI,dword ptr [ESP + 0x430]
TEST EDI,EDI
JZ 0x004174c8
MOV EAX,dword ptr [ESP + 0x43c]
TEST EAX,EAX
JZ 0x004173ec
MOV byte ptr [ESP + 0x42c],0x64
MOV EBX,dword ptr [ESP + 0x414]
LEA EAX,[ESP + 0x10]
PUSH EBX
PUSH 0x4b6670
PUSH EAX
CALL 0x0049eb80
OR ECX,0xffffffff
XOR EAX,EAX
ADD ESP,0xc
LEA EDX,[ESP + 0x10]
SCASB.REPNE ES:EDI
NOT ECX
SUB EDI,ECX
MOV ESI,EDI
MOV EBP,ECX
MOV EDI,EDX
OR ECX,0xffffffff
SCASB.REPNE ES:EDI
MOV ECX,EBP
DEC EDI
SHR ECX,0x2
MOVSD.REP ES:EDI,ESI
MOV ECX,EBP
AND ECX,0x3
CMP EBX,0x6
MOVSB.REP ES:EDI,ESI
JNZ 0x0041743b
ADD dword ptr [ESP + 0x41c],EBX
MOV ECX,dword ptr [ESP + 0x42c]
MOV EDX,dword ptr [ESP + 0x428]
LEA EAX,[ESP + 0x10]
PUSH EAX
MOV EAX,dword ptr [ESP + 0x428]
PUSH ECX
MOV ECX,dword ptr [ESP + 0x428]
PUSH EDX
MOV EDX,dword ptr [ESP + 0x428]
PUSH EAX
MOV EAX,dword ptr [ESP + 0x428]
PUSH ECX
PUSH EDX
PUSH EAX
CALL 0x00450530
MOV ECX,dword ptr [ESP + 0x454]
ADD ESP,0x1c
PUSH ECX
CALL 0x00450310
FLD dword ptr [0x004b5d8c]
FADD dword ptr [0x004b5d88]
ADD ESP,0x4
FCOM dword ptr [0x004ac3f4]
FST dword ptr [0x004b5d88]
FNSTSW AX
TEST AH,0x41
JNZ 0x004174b1
MOV dword ptr [0x004b5d8c],0xbf800000
FCOMP dword ptr [0x004ac3f8]
FNSTSW AX
TEST AH,0x1
JZ 0x004174c8
MOV dword ptr [0x004b5d8c],0x3f000000
POP EDI
POP ESI
POP EBP
POP EBX
ADD ESP,0x400
RET
