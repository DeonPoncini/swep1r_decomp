; FUN_00428b40
PUSH ESI
MOV ESI,dword ptr [ESP + 0xc]
TEST ESI,ESI
JZ 0x00428bc3
PUSH ESI
CALL 0x004318b0
ADD ESP,0x4
CMP EAX,-0x1
JZ 0x00428b78
PUSH ESI
CALL 0x004318b0
MOV EDX,dword ptr [0x004b91c4]
MOV ECX,EAX
SHL ECX,0x5
SUB ECX,EAX
ADD ESP,0x4
LEA EAX,[EDX + ECX*0x4]
MOV ECX,dword ptr [EDX + ECX*0x4]
AND ECX,0xfffffffe
MOV dword ptr [EAX],ECX
MOV AX,word ptr [ESP + 0x8]
CMP AX,0xffff
JNZ 0x00428b8f
MOV dword ptr [0x0050c038],0xffffffff
POP ESI
RET
MOVSX EAX,AX
PUSH EAX
PUSH ESI
CALL 0x00431b90
MOV EAX,[0x0050c038]
MOV EDX,dword ptr [0x004b91c4]
MOV ECX,EAX
ADD ESP,0x8
SHL ECX,0x5
SUB ECX,EAX
LEA EAX,[EDX + ECX*0x4]
MOV ECX,dword ptr [EDX + ECX*0x4]
OR ECX,0x1
MOV dword ptr [EAX],ECX
MOV dword ptr [0x0050c03c],0x0
POP ESI
RET
