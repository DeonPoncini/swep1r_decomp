; FUN_00470610
SUB ESP,0x24
PUSH EBX
PUSH ESI
MOV ESI,dword ptr [ESP + 0x30]
PUSH EDI
PUSH ESI
CALL 0x0046d4c0
MOV EAX,dword ptr [ESI + 0x60]
ADD ESP,0x4
TEST AH,0x8
JNZ 0x004707c2
CALL 0x0041d6b0
TEST EAX,EAX
JZ 0x0047070b
MOV EAX,dword ptr [ESI + 0x1e70]
MOV EAX,dword ptr [EAX + 0x4]
CMP EAX,0x4c6f636c
JZ 0x00470653
CMP EAX,0x41414949
JNZ 0x0047065c
PUSH ESI
CALL 0x0041d930
ADD ESP,0x4
MOV ECX,dword ptr [ESI + 0x1e70]
CMP dword ptr [ECX + 0x4],0x52454d4f
JNZ 0x0047070b
CALL 0x0048c490
MOV ECX,dword ptr [ESI + 0x1e70]
MOV dword ptr [ESP + 0x10],0x0
MOV EDX,dword ptr [ECX]
SHL EDX,0x2
MOV EDI,dword ptr [EDX + 0xea0200]
MOV EDX,dword ptr [EDX + 0xea03c0]
SUB EAX,EDI
MOV dword ptr [ESP + 0xc],EAX
MOV EAX,dword ptr [ESI + 0x60]
AND EAX,0xfff787ef
OR EDX,EAX
OR EDX,0x40
MOV dword ptr [ESI + 0x60],EDX
MOV EAX,dword ptr [ECX]
MOV EDX,dword ptr [ESI + 0x64]
MOV EAX,dword ptr [EAX*0x4 + 0xea01a0]
AND EDX,0xf17bffff
FILD qword ptr [ESP + 0xc]
OR EAX,EDX
OR EAX,0x10000000
FMUL dword ptr [0x004adad0]
MOV dword ptr [ESI + 0x64],EAX
MOV EDX,dword ptr [ECX]
MOV EAX,dword ptr [EDX*0x4 + 0xec7640]
FSTP dword ptr [ESP + 0x34]
MOV EDX,dword ptr [ESP + 0x34]
MOV dword ptr [ESI + 0x1a0],EAX
MOV ECX,dword ptr [ECX]
PUSH EDX
MOV EAX,ECX
SHL EAX,0x5
SUB EAX,ECX
LEA EDX,[ECX + EAX*0x8]
LEA EAX,[ECX + EDX*0x4]
LEA EDX,[ESI + 0x20]
LEA ECX,[EAX*0x8 + 0xea0720]
PUSH ECX
PUSH EDX
PUSH ESI
CALL 0x004705d0
ADD ESP,0x10
PUSH ESI
CALL 0x00470ae0
MOV EAX,dword ptr [ESI + 0x1e70]
ADD ESP,0x4
MOV ECX,dword ptr [EAX + 0x18]
CMP dword ptr [ECX],0xe
JNZ 0x00470748
LEA EDI,[ESI + 0x490]
LEA EDX,[ESI + 0x390]
PUSH EDI
PUSH EDX
CALL 0x0044bb10
ADD ESP,0x8
LEA EAX,[ESI + 0x3d0]
PUSH EDI
PUSH EAX
CALL 0x0044bb10
ADD ESP,0x8
MOV EAX,dword ptr [ESI + 0x344]
TEST EAX,EAX
JZ 0x00470782
PUSH ESI
CALL 0x00471760
ADD ESP,0x4
PUSH ESI
CALL 0x00472a50
ADD ESP,0x4
PUSH 0xbf800000
PUSH 0xbf800000
PUSH 0x0
PUSH ESI
CALL 0x0046f2c0
ADD ESP,0x10
PUSH ESI
CALL 0x0046ee20
ADD ESP,0x4
PUSH ESI
CALL 0x0046f9a0
MOV EAX,dword ptr [ESI + 0x344]
ADD ESP,0x4
TEST EAX,EAX
JZ 0x004707a7
PUSH ESI
CALL 0x0046d6a0
ADD ESP,0x4
PUSH ESI
CALL 0x0046ebf0
ADD ESP,0x4
PUSH ESI
CALL 0x004709a0
ADD ESP,0x4
PUSH ESI
CALL 0x00470a40
ADD ESP,0x4
PUSH ESI
CALL 0x0046e150
ADD ESP,0x4
MOV EAX,dword ptr [ESI + 0x344]
TEST EAX,EAX
JNZ 0x0047081d
MOV EAX,dword ptr [ESI + 0x348]
TEST EAX,EAX
JZ 0x004707e6
LEA ECX,[ESI + 0x15d0]
PUSH ECX
PUSH EAX
CALL 0x00431640
ADD ESP,0x8
MOV EAX,dword ptr [ESI + 0x34c]
TEST EAX,EAX
JZ 0x004708d8
CMP dword ptr [ESI + 0x1998],0x64
JLE 0x0047080d
PUSH 0x1
PUSH EAX
CALL 0x00431740
ADD ESP,0x8
JMP 0x004708d8
PUSH 0x0
PUSH EAX
CALL 0x00431740
ADD ESP,0x8
JMP 0x004708d8
MOV EAX,dword ptr [EAX + 0x14]
TEST EAX,EAX
JZ 0x00470834
LEA EDX,[ESI + 0x490]
PUSH EDX
PUSH EAX
CALL 0x00431640
ADD ESP,0x8
MOV EAX,dword ptr [ESI + 0x344]
MOV EAX,dword ptr [EAX + 0x4]
TEST EAX,EAX
JZ 0x00470851
LEA ECX,[ESI + 0x390]
PUSH ECX
PUSH EAX
CALL 0x00431640
ADD ESP,0x8
MOV EDX,dword ptr [ESI + 0x344]
MOV EAX,dword ptr [EDX + 0x8]
TEST EAX,EAX
JZ 0x0047086e
LEA ECX,[ESI + 0x3d0]
PUSH ECX
PUSH EAX
CALL 0x00431640
ADD ESP,0x8
MOV EDX,dword ptr [ESI + 0x344]
MOV EAX,dword ptr [EDX + 0xc]
TEST EAX,EAX
JZ 0x0047088b
LEA ECX,[ESI + 0x410]
PUSH ECX
PUSH EAX
CALL 0x00431640
ADD ESP,0x8
MOV EDX,dword ptr [ESI + 0x344]
MOV EAX,dword ptr [EDX + 0x10]
TEST EAX,EAX
JZ 0x004708a8
LEA ECX,[ESI + 0x450]
PUSH ECX
PUSH EAX
CALL 0x00431640
ADD ESP,0x8
MOV EDI,0xf8
LEA EBX,[ESI + 0x12d0]
MOV EDX,dword ptr [ESI + 0x344]
MOV EAX,dword ptr [EDI + EDX*0x1]
TEST EAX,EAX
JZ 0x004708ca
PUSH EBX
PUSH EAX
CALL 0x00431640
ADD ESP,0x8
ADD EDI,0x4
ADD EBX,0x40
CMP EDI,0x100
JLE 0x004708b3
MOV EAX,dword ptr [ESI + 0x60]
TEST AH,0x60
JZ 0x00470990
MOV EDI,dword ptr [ESI + 0x300]
TEST EDI,EDI
JL 0x00470990
FLD dword ptr [ESI + 0x30c]
FMUL dword ptr [0x004adad4]
MOV dword ptr [ESP + 0x18],0x0
MOV dword ptr [ESP + 0x1c],0x0
MOV dword ptr [ESP + 0x20],0xbf800000
FCOM dword ptr [0x004ad968]
FLD ST0
FNSTSW AX
TEST AH,0x1
JZ 0x0047092b
FSUB dword ptr [0x004adad8]
CALL 0x0049ed20
MOV dword ptr [ESP + 0x34],EAX
LEA EAX,[ESP + 0x18]
FILD dword ptr [ESP + 0x34]
FLD dword ptr [0x004ada2c]
FLD dword ptr [0x004ada2c]
FXCH ST2
FSUBP ST3,ST0
FXCH ST2
FMUL dword ptr [0x004ada2c]
FXCH ST2
FSTP dword ptr [ESP + 0x14]
FXCH
FSTP dword ptr [ESP + 0x34]
LEA ECX,[ESP + 0x24]
PUSH EAX
MOV EAX,dword ptr [ESP + 0x38]
LEA EDX,[ESP + 0x10]
FSTP dword ptr [ESP + 0x30]
PUSH ECX
PUSH EDX
MOV ECX,EAX
MOV EDX,EAX
PUSH EDI
MOV dword ptr [ESP + 0x1c],EAX
MOV dword ptr [ESP + 0x20],ECX
MOV dword ptr [ESP + 0x34],EDX
MOV dword ptr [ESP + 0x38],EAX
CALL 0x00483840
ADD ESP,0x10
POP EDI
POP ESI
POP EBX
ADD ESP,0x24
RET
