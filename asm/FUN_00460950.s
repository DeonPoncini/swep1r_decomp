; FUN_00460950
SUB ESP,0x128
PUSH EBX
PUSH EBP
PUSH ESI
PUSH EDI
MOV dword ptr [ESP + 0x28],0xa4
CALL 0x0045d350
MOV EBP,dword ptr [ESP + 0x13c]
MOV EDX,dword ptr [0x00e27820]
MOV EBX,EAX
XOR EAX,EAX
MOV ESI,dword ptr [EBP + 0x84]
CMP EBP,EDX
SETZ AL
MOV EDI,EAX
MOV dword ptr [ESP + 0x30],EBX
MOV dword ptr [ESP + 0x2c],EDI
MOV dword ptr [ESP + 0x34],ESI
CALL 0x00445690
TEST EAX,EAX
JNZ 0x004609c3
FLD dword ptr [ESI + 0x2b8]
FSUB qword ptr [0x00e22a40]
FCOM dword ptr [0x004ad218]
FSTP dword ptr [ESI + 0x2b8]
FNSTSW AX
TEST AH,0x1
JZ 0x004609c3
MOV dword ptr [ESI + 0x2b8],0x0
MOV ESI,dword ptr [ESP + 0x140]
MOV EAX,dword ptr [ESI + 0x124]
CMP EAX,0x1
JNZ 0x004609d9
PUSH 0x5
JMP 0x004609e3
TEST EAX,EAX
JNZ 0x004609e1
PUSH 0x2
JMP 0x004609e3
PUSH 0x0
CALL 0x004603f0
ADD ESP,0x4
CMP EBX,0x2
MOV dword ptr [ESP + 0x14],0x437e0000
MOV dword ptr [ESP + 0x10],0x433e0000
JNZ 0x00460a21
LEA ECX,[EDI + EDI*0x4]
MOV dword ptr [ESP + 0x14],0x438a8000
LEA EAX,[EDI + ECX*0x2]
LEA EDX,[EAX + EAX*0x4]
LEA EAX,[EDX + EDX*0x1 + 0x60]
MOV dword ptr [ESP + 0x1c],EAX
FILD dword ptr [ESP + 0x1c]
FSTP dword ptr [ESP + 0x10]
MOV ECX,dword ptr [EBP + 0x84]
FLD dword ptr [ECX + 0x1a0]
FCOM dword ptr [0x004ad218]
FNSTSW AX
TEST AH,0x41
JZ 0x00460a42
FSTP ST0
FLD dword ptr [0x004ad218]
SUB ESP,0x8
FSTP qword ptr [ESP]
PUSH 0x4c6ee0
CALL 0x00421360
ADD ESP,0x4
LEA EDX,[ESP + 0x40]
PUSH EAX
PUSH EDX
CALL 0x0049eb80
FLD dword ptr [ESP + 0x20]
ADD ESP,0x10
LEA EAX,[ESP + 0x38]
PUSH EAX
PUSH -0x2
PUSH -0x2
PUSH -0x3d
PUSH 0x0
CALL 0x0049ed20
FLD dword ptr [ESP + 0x28]
PUSH EAX
CALL 0x0049ed20
PUSH EAX
CALL 0x00450530
MOV EAX,dword ptr [ESI + 0x124]
ADD ESP,0x1c
CMP EAX,0x1
JNZ 0x00460aa9
MOV dword ptr [ESP + 0x14],0x43700000
MOV dword ptr [ESP + 0x10],0x41f00000
JMP 0x00460ad7
CMP EBX,0x2
MOV dword ptr [ESP + 0x14],0x43200000
MOV dword ptr [ESP + 0x10],0x41b80000
JNZ 0x00460ad7
LEA ECX,[EDI + EDI*0x4]
LEA EAX,[EDI + ECX*0x2]
LEA EDX,[EAX + EAX*0x4]
LEA EAX,[EDX + EDX*0x1 + 0x14]
MOV dword ptr [ESP + 0x1c],EAX
FILD dword ptr [ESP + 0x1c]
FSTP dword ptr [ESP + 0x10]
MOV EAX,dword ptr [EBP + 0x78]
XOR ESI,ESI
CMP EAX,ESI
MOV dword ptr [ESP + 0x20],ESI
MOV dword ptr [ESP + 0x1c],ESI
JLE 0x00460e21
FLD dword ptr [EBP + EAX*0x4 + 0x60]
FMUL dword ptr [0x004ad268]
FLD dword ptr [EBP + EAX*0x4 + 0x5c]
FLD dword ptr [0x004ad22c]
FSUB ST0,ST2
FXCH
FSTP dword ptr [ESP + 0x18]
FSTP dword ptr [ESP + 0x24]
FSTP ST0
FLD dword ptr [ESP + 0x24]
FCOMP dword ptr [0x004ad218]
FNSTSW AX
TEST AH,0x41
JNZ 0x00460ddf
FLD dword ptr [ESP + 0x24]
FCOMP dword ptr [0x004ad22c]
FNSTSW AX
TEST AH,0x1
JZ 0x00460ddf
CMP dword ptr [0x0050c5f0],ESI
JNZ 0x00460b61
CALL 0x004816b0
MOV dword ptr [ESP + 0x20],EAX
FILD dword ptr [ESP + 0x20]
FMUL dword ptr [0x004ad240]
FMUL dword ptr [0x004ad37c]
FSUB dword ptr [0x004ad380]
JMP 0x00460b67
FLD dword ptr [0x004ad384]
CALL 0x0049ed20
MOV EBP,EAX
MOV dword ptr [ESP + 0x20],EBP
FILD dword ptr [ESP + 0x20]
FMUL dword ptr [0x004ad228]
CALL 0x0049ed20
FLD dword ptr [ESP + 0x24]
FMUL dword ptr [0x004ad340]
MOV EBX,EAX
CALL 0x0049ed20
MOV ESI,EAX
SHL ESI,0x3
CMP ESI,0xff
JLE 0x00460ba4
MOV ESI,0xff
FLD dword ptr [ESP + 0x14]
CALL 0x0049ed20
PUSH 0x4c6ed8
MOV DI,AX
CALL 0x00421360
MOV ECX,dword ptr [ESP + 0x1c]
ADD ESP,0x4
FLD dword ptr [ESP + 0x10]
PUSH EAX
PUSH ESI
PUSH 0x40
PUSH EBX
PUSH EBP
PUSH ECX
CALL 0x0049ed20
PUSH EAX
PUSH EDI
CALL 0x00450670
ADD ESP,0x20
PUSH 0x4c6eb8
CALL 0x00421360
FLD dword ptr [ESP + 0x14]
FSUB dword ptr [0x004ad388]
ADD ESP,0x4
PUSH EAX
PUSH ESI
PUSH 0x40
PUSH EBX
PUSH EBP
CALL 0x0049ed20
PUSH EAX
PUSH EDI
CALL 0x00450530
MOV EBX,dword ptr [ESP + 0x15c]
ADD ESP,0x1c
FLD dword ptr [ESP + 0x18]
FCOMP dword ptr [EBX + 0x1d0]
FNSTSW AX
TEST AH,0x41
JZ 0x00460c9d
FLD dword ptr [ESP + 0x24]
FMUL dword ptr [0x004ad38c]
CALL 0x0049ed20
TEST AL,0x1
JZ 0x00460c9d
PUSH 0x4c6e98
CALL 0x00421360
FLD dword ptr [ESP + 0x14]
FSUB dword ptr [0x004ad390]
ADD ESP,0x4
PUSH EAX
PUSH ESI
PUSH 0x0
PUSH -0x1
PUSH -0x38
CALL 0x0049ed20
PUSH EAX
PUSH EDI
CALL 0x00450530
MOV ESI,dword ptr [ESP + 0x158]
ADD ESP,0x1c
MOVSX EDX,byte ptr [ESI + 0x10]
PUSH 0x100000
PUSH EDX
CALL 0x00427670
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x00460c9d
PUSH EAX
PUSH 0x27
PUSH EAX
PUSH 0x6
CALL 0x00427410
MOVSX EAX,byte ptr [ESI + 0x10]
ADD ESP,0x10
PUSH 0x100000
PUSH EAX
CALL 0x00427690
ADD ESP,0x8
MOV ECX,dword ptr [ESP + 0x13c]
MOV EAX,dword ptr [EBX + 0x1c8]
MOV dword ptr [ESP + 0x20],0x1
MOV EDX,dword ptr [ECX + 0x78]
INC EDX
CMP EDX,EAX
JNZ 0x00460e1a
MOV EAX,[0x0050ca18]
FLD dword ptr [ESP + 0x24]
CMP EAX,0x1
JG 0x00460dbc
FSUB dword ptr [0x004ad228]
FADD ST0,ST0
FCOM dword ptr [0x004ad218]
FNSTSW AX
TEST AH,0x41
JNZ 0x00460e18
FMUL dword ptr [0x004ad340]
CALL 0x0049ed20
MOV EDI,EAX
SHL EDI,0x2
CMP EDI,0xff
JLE 0x00460d06
MOV EDI,0xff
MOV EAX,[0x0050c5f0]
TEST EAX,EAX
JNZ 0x00460d2a
CALL 0x004816b0
MOV dword ptr [ESP + 0x18],EAX
FILD dword ptr [ESP + 0x18]
FMUL dword ptr [0x004ad240]
FMUL dword ptr [0x004ad340]
JMP 0x00460d30
FLD dword ptr [0x004ad394]
CALL 0x0049ed20
MOV EBP,EAX
MOV EAX,[0x0050c5f0]
TEST EAX,EAX
JNZ 0x00460d5b
CALL 0x004816b0
MOV dword ptr [ESP + 0x18],EAX
FILD dword ptr [ESP + 0x18]
FMUL dword ptr [0x004ad240]
FMUL dword ptr [0x004ad340]
JMP 0x00460d61
FLD dword ptr [0x004ad394]
CALL 0x0049ed20
MOV EBX,EAX
MOV EAX,[0x0050c5f0]
TEST EAX,EAX
JNZ 0x00460d8c
CALL 0x004816b0
MOV dword ptr [ESP + 0x18],EAX
FILD dword ptr [ESP + 0x18]
FMUL dword ptr [0x004ad240]
FMUL dword ptr [0x004ad340]
JMP 0x00460d92
FLD dword ptr [0x004ad394]
CALL 0x0049ed20
PUSH 0x4c6e74
MOV ESI,EAX
CALL 0x00421360
ADD ESP,0x4
PUSH EAX
PUSH EDI
PUSH ESI
PUSH EBX
PUSH EBP
PUSH 0x46
PUSH 0xa0
CALL 0x00450530
ADD ESP,0x1c
JMP 0x00460e1a
FMUL dword ptr [0x004ad398]
CALL 0x0049ed20
CDQ
XOR EAX,EDX
SUB EAX,EDX
AND EAX,0x1
XOR EAX,EDX
SUB EAX,EDX
JZ 0x00460e1a
MOV dword ptr [ESP + 0x1c],0x1
JMP 0x00460e1a
MOVSX EAX,byte ptr [EBP + 0x10]
PUSH 0x100000
PUSH EAX
CALL 0x00427670
ADD ESP,0x8
TEST EAX,EAX
JZ 0x00460e21
PUSH ESI
PUSH 0x6
CALL 0x00427360
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x00460e21
MOVSX ECX,byte ptr [EBP + 0x10]
PUSH 0x100000
PUSH ECX
CALL 0x004276a0
ADD ESP,0x8
JMP 0x00460e21
FSTP ST0
MOV EBP,dword ptr [ESP + 0x13c]
MOV EAX,dword ptr [ESP + 0x20]
TEST EAX,EAX
JNZ 0x00460ea2
CMP dword ptr [ESP + 0x30],0x2
JGE 0x00460ea2
FLD dword ptr [ESP + 0x14]
MOV dword ptr [0x0050ca5c],0x0
CALL 0x0049ed20
PUSH 0x4c6ed8
MOV SI,AX
CALL 0x00421360
MOV EDX,dword ptr [EBP + 0x74]
ADD ESP,0x4
FLD dword ptr [ESP + 0x10]
PUSH EAX
PUSH -0x42
PUSH -0x1
PUSH -0x1
PUSH -0x1
PUSH EDX
CALL 0x0049ed20
PUSH EAX
PUSH ESI
CALL 0x00450670
ADD ESP,0x20
PUSH 0x4c6e58
CALL 0x00421360
FLD dword ptr [ESP + 0x14]
FSUB dword ptr [0x004ad388]
ADD ESP,0x4
PUSH EAX
PUSH -0x42
PUSH -0x1
PUSH -0x1
PUSH -0x1
CALL 0x0049ed20
PUSH EAX
PUSH ESI
CALL 0x00450530
ADD ESP,0x1c
MOV ESI,dword ptr [ESP + 0x140]
MOV EAX,dword ptr [ESI + 0x124]
CMP EAX,0x6
JZ 0x00460eb9
CMP EAX,0x7
JNZ 0x00460ee1
MOV EAX,dword ptr [EBP + 0x74]
PUSH 0x4c6e50
FLD dword ptr [ESP + 0x14]
PUSH -0x42
PUSH -0x1
PUSH -0x1
PUSH -0x1
PUSH EAX
CALL 0x0049ed20
PUSH EAX
PUSH 0x121
CALL 0x00450670
ADD ESP,0x20
MOV EAX,dword ptr [ESI + 0x124]
MOV dword ptr [ESP + 0x14],0x42780000
CMP EAX,0x1
JZ 0x00460efc
MOV dword ptr [ESP + 0x14],0x42280000
MOV EAX,dword ptr [EBP + 0x78]
MOV ECX,dword ptr [ESI + 0x1c8]
INC EAX
CMP EAX,ECX
JLE 0x00460f0c
MOV EAX,ECX
PUSH ECX
PUSH EAX
PUSH 0x4c6e40
CALL 0x00421360
ADD ESP,0x4
LEA ECX,[ESP + 0x40]
PUSH EAX
PUSH ECX
CALL 0x0049eb80
MOV EAX,[0x0050ca18]
ADD ESP,0x10
CMP EAX,0x1
JLE 0x00460f92
MOV EAX,dword ptr [ESP + 0x1c]
TEST EAX,EAX
JZ 0x00460f92
FLD dword ptr [ESP + 0x10]
CALL 0x0049ed20
FLD dword ptr [ESP + 0x14]
MOV SI,AX
CALL 0x0049ed20
LEA EDX,[ESP + 0x38]
MOV DI,AX
PUSH EDX
PUSH -0x1
PUSH 0x3f
PUSH 0x3f
PUSH -0x1
PUSH ESI
PUSH EDI
CALL 0x00450530
FLD dword ptr [ESP + 0x2c]
FSUB dword ptr [0x004ad388]
ADD ESP,0x1c
CALL 0x0049ed20
PUSH 0x4c6e28
MOV BX,AX
CALL 0x00421360
ADD ESP,0x4
PUSH EAX
PUSH -0x1
PUSH 0x3f
PUSH 0x3f
JMP 0x00460fe7
FLD dword ptr [ESP + 0x10]
CALL 0x0049ed20
FLD dword ptr [ESP + 0x14]
MOV SI,AX
CALL 0x0049ed20
MOV DI,AX
LEA EAX,[ESP + 0x38]
PUSH EAX
PUSH -0x42
PUSH -0x1
PUSH -0x1
PUSH -0x1
PUSH ESI
PUSH EDI
CALL 0x00450530
FLD dword ptr [ESP + 0x2c]
FSUB dword ptr [0x004ad388]
ADD ESP,0x1c
CALL 0x0049ed20
PUSH 0x4c6e28
MOV BX,AX
CALL 0x00421360
ADD ESP,0x4
PUSH EAX
PUSH -0x42
PUSH -0x1
PUSH -0x1
PUSH -0x1
PUSH EBX
PUSH EDI
CALL 0x00450530
MOV EDI,dword ptr [ESP + 0x15c]
ADD ESP,0x1c
MOV EAX,dword ptr [EDI + 0x124]
CMP EAX,0x1
JZ 0x0046107d
CMP EAX,0x6
JZ 0x0046107d
CMP EAX,0x7
JZ 0x0046107d
MOV AX,word ptr [EBP + 0x5c]
TEST AX,AX
JLE 0x00461059
MOV ECX,dword ptr [EDI + 0x1bc]
MOVSX EDX,AX
PUSH ECX
PUSH EDX
PUSH 0x4c6e40
CALL 0x00421360
ADD ESP,0x4
PUSH EAX
LEA EAX,[ESP + 0x44]
PUSH EAX
CALL 0x0049eb80
ADD ESP,0x10
LEA ECX,[ESP + 0x38]
PUSH ECX
PUSH -0x42
PUSH -0x1
PUSH -0x1
PUSH -0x1
PUSH ESI
PUSH 0x116
CALL 0x00450530
ADD ESP,0x1c
PUSH 0x4c6e10
CALL 0x00421360
ADD ESP,0x4
PUSH EAX
PUSH -0x42
PUSH -0x1
PUSH -0x1
PUSH -0x1
PUSH EBX
PUSH 0x116
CALL 0x00450530
ADD ESP,0x1c
CMP dword ptr [0x0050ca18],0x1
JLE 0x00461096
MOV EAX,dword ptr [ESP + 0x2c]
TEST EAX,EAX
JNZ 0x00461096
MOV dword ptr [ESP + 0x28],0x36
MOV EDX,dword ptr [ESP + 0x2c]
MOV EAX,dword ptr [ESP + 0x28]
MOV ECX,dword ptr [ESP + 0x34]
PUSH EDX
PUSH EAX
PUSH 0xe1
PUSH ECX
PUSH EDI
CALL 0x0045fe70
MOV EAX,[0x0050c040]
ADD ESP,0x14
TEST EAX,EAX
JZ 0x004610e1
MOV EAX,[0x0050c610]
TEST EAX,EAX
JZ 0x004610e1
PUSH 0x4c6e08
PUSH -0x1
PUSH 0x0
PUSH 0x0
PUSH -0x1
PUSH 0x14
PUSH 0xa0
CALL 0x00450530
ADD ESP,0x1c
POP EDI
POP ESI
POP EBP
POP EBX
ADD ESP,0x128
RET
