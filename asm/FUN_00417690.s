; FUN_00417690
MOV EAX,dword ptr [ESP + 0xc]
PUSH ESI
MOV ESI,dword ptr [ESP + 0xc]
TEST EAX,EAX
MOV EAX,dword ptr [ESI + 0x20]
JZ 0x004176a4
OR AL,0x2
JMP 0x004176a6
AND AL,0xfd
MOV dword ptr [ESI + 0x20],EAX
MOV EAX,dword ptr [ESP + 0x18]
TEST EAX,EAX
JZ 0x004176ba
PUSH ESI
CALL 0x004172f0
ADD ESP,0x4
MOV EAX,dword ptr [ESP + 0x14]
TEST EAX,EAX
JZ 0x004176e6
MOV EDX,dword ptr [ESP + 0x8]
MOV EAX,dword ptr [ESI + 0x1c]
XOR ECX,ECX
CMP EDX,0x1
MOV EDX,dword ptr [ESI + 0x8]
PUSH ESI
SETNZ CL
ADD ECX,0x3e8
PUSH EAX
PUSH ECX
PUSH EDX
CALL 0x004151a0
ADD ESP,0x10
POP ESI
RET
