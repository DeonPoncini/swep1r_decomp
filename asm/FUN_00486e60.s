; FUN_00486e60
MOV EAX,[0x00510254]
SUB ESP,0x104
LEA EDX,[ESP]
MOV ECX,dword ptr [EAX]
PUSH EBX
PUSH ESI
PUSH EDI
PUSH EDX
PUSH 0x0
PUSH EAX
CALL dword ptr [ECX + 0x58]
CMP EAX,0x8877001e
JNZ 0x00486f3d
MOV EAX,dword ptr [ESP + 0xc]
MOV ECX,dword ptr [0x00ecc420]
PUSH EAX
CALL dword ptr [ECX + 0x20]
ADD ESP,0x4
MOV ESI,EAX
MOV EAX,[0x00510254]
LEA ECX,[ESP + 0xc]
PUSH ECX
PUSH ESI
MOV EDX,dword ptr [EAX]
PUSH EAX
CALL dword ptr [EDX + 0x58]
TEST EAX,EAX
JL 0x00486f3d
MOV EDI,dword ptr [ESP + 0x114]
MOV EDX,dword ptr [EDI + 0x10]
LEA EAX,[EDI + 0x98]
LEA ECX,[EDI + 0x58]
PUSH EAX
MOV dword ptr [ESI + 0x28],EDX
PUSH ECX
PUSH 0x4c8680
LEA EDX,[ESP + 0x1c]
PUSH 0x80
PUSH EDX
CALL 0x004a1170
ADD ESP,0x14
LEA EBX,[EDI + 0xb8]
LEA EAX,[ESP + 0x10]
PUSH EBX
MOV dword ptr [ESI + 0x30],EAX
CALL 0x004a1150
ADD ESP,0x4
TEST EAX,EAX
JBE 0x00486efe
MOV dword ptr [ESI + 0x34],EBX
MOV ECX,dword ptr [EDI + 0xf8]
MOV EBX,dword ptr [ESI + 0x4]
MOV dword ptr [ESI + 0x40],ECX
MOV EDX,dword ptr [EDI + 0xfc]
MOV dword ptr [ESI + 0x48],EDX
MOV EAX,dword ptr [EDI + 0x100]
OR EBX,0xe0c4
MOV dword ptr [ESI + 0x4c],EAX
MOV dword ptr [ESI + 0x4],EBX
MOV EAX,[0x00510254]
PUSH 0x0
PUSH ESI
MOV ECX,dword ptr [EAX]
PUSH EAX
CALL dword ptr [ECX + 0x7c]
XOR EDX,EDX
TEST EAX,EAX
SETGE DL
DEC EDX
AND EAX,EDX
POP EDI
POP ESI
POP EBX
ADD ESP,0x104
RET
