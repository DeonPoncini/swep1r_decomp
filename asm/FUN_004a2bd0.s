; FUN_004a2bd0
SUB ESP,0x14
LEA EAX,[ESP + 0x1c]
LEA ECX,[ESP + 0x8]
PUSH EBX
PUSH EBP
MOV EBP,dword ptr [ESP + 0x24]
PUSH ESI
XOR ESI,ESI
PUSH ESI
PUSH ESI
PUSH ESI
PUSH ESI
PUSH EBP
PUSH EAX
PUSH ECX
CALL 0x004a8490
MOV EBX,EAX
ADD ESP,0x1c
TEST BL,0x4
JZ 0x004a2c11
MOV ESI,0x200
MOV dword ptr [ESP + 0xc],0x0
MOV dword ptr [ESP + 0x10],0x0
JMP 0x004a2c42
LEA EDX,[ESP + 0xc]
LEA EAX,[ESP + 0x14]
PUSH EDX
PUSH EAX
CALL 0x004a7270
ADD ESP,0x8
TEST BL,0x2
JNZ 0x004a2c2d
CMP EAX,0x1
JNZ 0x004a2c32
MOV ESI,0x80
TEST BL,0x1
JNZ 0x004a2c3c
CMP EAX,0x2
JNZ 0x004a2c42
OR ESI,0x100
MOV ECX,dword ptr [ESP + 0x28]
MOV EAX,dword ptr [ESP + 0x24]
MOV EDX,dword ptr [ESP + 0xc]
SUB ECX,EBP
MOV dword ptr [EAX],ESI
MOV dword ptr [EAX + 0x4],ECX
MOV ECX,dword ptr [ESP + 0x10]
POP ESI
MOV dword ptr [EAX + 0x10],EDX
POP EBP
MOV dword ptr [EAX + 0x14],ECX
POP EBX
ADD ESP,0x14
RET
