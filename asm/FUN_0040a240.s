; FUN_0040a240
PUSH EBX
PUSH EBP
MOV EBP,dword ptr [ESP + 0xc]
PUSH ESI
PUSH EDI
PUSH EBP
CALL 0x0040a160
ADD ESP,0x4
MOV ESI,EAX
PUSH EBP
PUSH ESI
CALL 0x0040a190
MOV EDI,EAX
XOR ECX,ECX
ADD ESP,0x8
CMP EDI,ECX
JGE 0x0040a26c
XOR EAX,EAX
POP EDI
POP ESI
POP EBP
POP EBX
RET
MOV EAX,ESI
SHL EAX,0x5
SUB EAX,ESI
CMP EDI,0x4
LEA EAX,[EAX + EAX*0x2]
LEA EBX,[EAX*0x4 + 0x4d6da0]
JL 0x0040a29e
CMP dword ptr [ESP + 0x18],ECX
JNZ 0x0040a29e
PUSH EBX
CALL 0x00404280
ADD ESP,0x4
TEST EAX,EAX
JZ 0x0040a29c
XOR EAX,EAX
POP EDI
POP ESI
POP EBP
POP EBX
RET
XOR ECX,ECX
MOV EDX,dword ptr [EBX + 0x154]
CMP EDI,0x1
MOV dword ptr [EDX*0x4 + 0x4d6ce8],ECX
MOV EAX,dword ptr [EBX + 0x154]
MOV dword ptr [EAX*0x4 + 0x4d6c78],ECX
MOV dword ptr [EBX + 0x154],EBP
MOV dword ptr [EBP*0x4 + 0x4d6c78],ECX
JLE 0x0040a320
MOV EDI,dword ptr [EBP*0x4 + 0x4b4940]
OR ECX,0xffffffff
XOR EAX,EAX
LEA EDX,[EBX + 0x158]
SCASB.REPNE ES:EDI
NOT ECX
SUB EDI,ECX
MOV EAX,ECX
MOV ESI,EDI
MOV EDI,EDX
SHR ECX,0x2
MOVSD.REP ES:EDI,ESI
MOV ECX,EAX
AND ECX,0x3
MOVSB.REP ES:EDI,ESI
MOV ECX,dword ptr [0x004d6d98]
MOV EDX,dword ptr [EBP*0x4 + 0x4b4940]
PUSH ECX
PUSH EDX
PUSH EBX
CALL 0x004040a0
ADD ESP,0xc
TEST EAX,EAX
JNZ 0x0040a315
POP EDI
POP ESI
POP EBP
POP EBX
RET
MOV dword ptr [EBP*0x4 + 0x4d6ce8],0x0
POP EDI
POP ESI
POP EBP
MOV EAX,0x1
POP EBX
RET
