; FUN_004a3160
MOV EAX,[0x004d2218]
PUSH EBP
PUSH ESI
CMP EAX,-0x1
PUSH EDI
JNZ 0x004a3174
MOV EBP,0x4d2208
JMP 0x004a3191
MOV EAX,[0x00ecd604]
PUSH 0x2020
PUSH 0x0
PUSH EAX
CALL dword ptr [0x004ac1a8]
MOV EBP,EAX
TEST EBP,EBP
JZ 0x004a32bc
MOV EDI,dword ptr [0x004ac0dc]
PUSH 0x4
PUSH 0x2000
PUSH 0x400000
PUSH 0x0
CALL EDI
MOV ESI,EAX
TEST ESI,ESI
JZ 0x004a32a5
PUSH 0x4
PUSH 0x1000
PUSH 0x10000
PUSH ESI
CALL EDI
TEST EAX,EAX
JZ 0x004a3297
CMP EBP,0x4d2208
JNZ 0x004a31f8
MOV EAX,[0x004d2208]
TEST EAX,EAX
JNZ 0x004a31e3
MOV dword ptr [0x004d2208],0x4d2208
MOV EAX,[0x004d220c]
TEST EAX,EAX
JNZ 0x004a3213
MOV dword ptr [0x004d220c],0x4d2208
JMP 0x004a3213
MOV dword ptr [EBP],0x4d2208
MOV ECX,dword ptr [0x004d220c]
MOV dword ptr [EBP + 0x4],ECX
MOV dword ptr [0x004d220c],EBP
MOV EDX,dword ptr [EBP + 0x4]
MOV dword ptr [EDX],EBP
LEA EAX,[ESI + 0x400000]
LEA ECX,[EBP + 0x18]
LEA EDX,[EBP + 0x98]
MOV dword ptr [EBP + 0x14],EAX
MOV dword ptr [EBP + 0x10],ESI
MOV dword ptr [EBP + 0x8],ECX
MOV dword ptr [EBP + 0xc],EDX
XOR EAX,EAX
MOV EDI,0xf1
XOR EDX,EDX
CMP EAX,0x10
SETGE DL
DEC EDX
ADD ECX,0x8
AND EDX,EDI
DEC EDX
INC EAX
MOV dword ptr [ECX + -0x8],EDX
MOV dword ptr [ECX + -0x4],EDI
CMP EAX,0x400
JL 0x004a3235
MOV ECX,0x4000
XOR EAX,EAX
MOV EDI,ESI
STOSD.REP ES:EDI
MOV EAX,dword ptr [EBP + 0x10]
ADD EAX,0x10000
CMP ESI,EAX
JNC 0x004a3291
MOV ECX,0xf0
MOV AL,0xff
LEA EDX,[ESI + 0x8]
MOV dword ptr [ESI + 0x4],ECX
MOV dword ptr [ESI],EDX
MOV byte ptr [ESI + 0xf8],AL
MOV EDX,dword ptr [EBP + 0x10]
ADD ESI,0x1000
ADD EDX,0x10000
CMP ESI,EDX
JC 0x004a3270
MOV EAX,EBP
POP EDI
POP ESI
POP EBP
RET
PUSH 0x8000
PUSH 0x0
PUSH ESI
CALL dword ptr [0x004ac154]
CMP EBP,0x4d2208
JZ 0x004a32bc
MOV EAX,[0x00ecd604]
PUSH EBP
PUSH 0x0
PUSH EAX
CALL dword ptr [0x004ac190]
POP EDI
POP ESI
XOR EAX,EAX
POP EBP
RET
