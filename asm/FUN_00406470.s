; FUN_00406470
SUB ESP,0x130
MOV EAX,[0x004b3df8]
MOV ECX,dword ptr [0x004b3dfc]
MOV dword ptr [ESP + 0x10],EAX
XOR EAX,EAX
MOV dword ptr [ESP + 0x1c],EAX
MOV EDX,dword ptr [0x004b3e00]
MOV dword ptr [ESP + 0x20],EAX
PUSH EBX
MOV dword ptr [ESP + 0x28],EAX
PUSH EBP
MOV dword ptr [ESP + 0x30],EAX
PUSH ESI
MOV dword ptr [ESP + 0x38],EAX
MOV EAX,dword ptr [ESP + 0x148]
TEST EAX,EAX
PUSH EDI
MOV dword ptr [ESP + 0x24],ECX
MOV dword ptr [ESP + 0x28],EDX
JZ 0x00406553
MOV EBP,dword ptr [ESP + 0x148]
MOV ESI,0x4b2638
MOV EAX,EBP
MOV DL,byte ptr [EAX]
MOV BL,byte ptr [ESI]
MOV CL,DL
CMP DL,BL
JNZ 0x004064f2
TEST CL,CL
JZ 0x004064ee
MOV DL,byte ptr [EAX + 0x1]
MOV BL,byte ptr [ESI + 0x1]
MOV CL,DL
CMP DL,BL
JNZ 0x004064f2
ADD EAX,0x2
ADD ESI,0x2
TEST CL,CL
JNZ 0x004064ca
XOR EAX,EAX
JMP 0x004064f7
SBB EAX,EAX
SBB EAX,-0x1
TEST EAX,EAX
JNZ 0x0040650f
LEA EAX,[ESP + 0x20]
PUSH 0x4b3ea4
PUSH EAX
CALL 0x0049eb80
ADD ESP,0x8
JMP 0x00406530
MOV EDI,EBP
OR ECX,0xffffffff
XOR EAX,EAX
SCASB.REPNE ES:EDI
NOT ECX
DEC ECX
JZ 0x00406530
PUSH EBP
LEA ECX,[ESP + 0x24]
PUSH 0x4b2304
PUSH ECX
CALL 0x0049eb80
ADD ESP,0xc
LEA EDX,[ESP + 0x20]
LEA EAX,[ESP + 0x40]
PUSH EDX
PUSH 0x4b3e8c
PUSH 0xe9f300
PUSH 0x4b3e84
PUSH EAX
CALL 0x0049eb80
ADD ESP,0x14
JMP 0x00406578
MOV EAX,dword ptr [ESP + 0x148]
PUSH 0x4b3df8
PUSH EAX
PUSH EAX
PUSH 0x4b252c
LEA ECX,[ESP + 0x50]
PUSH 0x4b3dec
PUSH ECX
CALL 0x0049eb80
ADD ESP,0x18
LEA EDX,[ESP + 0x40]
PUSH EDX
CALL 0x004877b0
ADD ESP,0x4
TEST EAX,EAX
JNZ 0x0040659c
CALL 0x00487900
OR EAX,0xffffffff
POP EDI
POP ESI
POP EBP
POP EBX
ADD ESP,0x130
RET
MOV EBX,dword ptr [ESP + 0x144]
TEST EBX,EBX
JL 0x004065a9
JNZ 0x004065b7
MOV ECX,0x6
XOR EAX,EAX
MOV EDI,0xec8880
STOSD.REP ES:EDI
TEST EBX,EBX
JL 0x004065c0
CMP EBX,0x1
JNZ 0x004065d1
XOR EAX,EAX
MOV [0x00ec8790],EAX
MOV [0x00ec8794],EAX
MOV [0x00ec8798],EAX
PUSH EBX
CALL 0x00407800
ADD ESP,0x4
CALL 0x00487ae0
TEST EAX,EAX
JZ 0x00406988
MOV EDI,dword ptr [ESP + 0x1c]
MOV EBP,dword ptr [ESP + 0x1c]
MOV EAX,[0x00ec8e84]
MOV ESI,0x4b3e7c
MOV DL,byte ptr [EAX]
MOV CL,DL
CMP DL,byte ptr [ESI]
JNZ 0x0040661d
TEST CL,CL
JZ 0x00406619
MOV DL,byte ptr [EAX + 0x1]
MOV CL,DL
CMP DL,byte ptr [ESI + 0x1]
JNZ 0x0040661d
ADD EAX,0x2
ADD ESI,0x2
TEST CL,CL
JNZ 0x004065f9
XOR EAX,EAX
JMP 0x00406622
SBB EAX,EAX
SBB EAX,-0x1
TEST EAX,EAX
JZ 0x00406988
MOV EAX,[0x00ec8e80]
XOR EBX,EBX
CMP EAX,EBX
MOV byte ptr [ESP + 0x10],0x0
MOV dword ptr [ESP + 0x14],EBX
MOV dword ptr [ESP + 0x18],0xffffffff
JBE 0x0040692b
MOV ESI,0xec8e84
MOV EAX,dword ptr [ESI]
PUSH 0x4b3de0
PUSH EAX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x0040666f
XOR EDI,EDI
MOV EBP,0x4d5fc0
JMP 0x0040690e
MOV ECX,dword ptr [ESI]
PUSH 0x4b3dd8
PUSH ECX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x00406692
MOV EDI,0x1
MOV EBP,0x4d6518
JMP 0x0040690e
MOV EDX,dword ptr [ESI]
PUSH 0x4b3dcc
PUSH EDX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x004066b5
MOV EDI,0x2
MOV EBP,0x4d6828
JMP 0x0040690e
MOV EAX,dword ptr [ESI]
PUSH 0x4b3e74
PUSH EAX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x004066ee
MOV CL,byte ptr [ESP + 0x10]
PUSH 0x4b2af0
OR CL,0x4
MOV byte ptr [ESP + 0x14],CL
MOV ECX,dword ptr [ESI + 0x4]
PUSH ECX
CALL 0x00407a90
ADD ESP,0x8
MOV dword ptr [ESP + 0x14],EAX
JMP 0x0040690e
MOV EDX,dword ptr [ESI]
PUSH 0x4b3e6c
PUSH EDX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x00406727
MOV CL,byte ptr [ESP + 0x10]
MOV EAX,dword ptr [ESI + 0x4]
OR CL,0x8
PUSH 0x4b2b28
PUSH EAX
MOV byte ptr [ESP + 0x18],CL
CALL 0x00407a90
ADD ESP,0x8
MOV dword ptr [ESP + 0x14],EAX
JMP 0x0040690e
MOV ECX,dword ptr [ESI]
PUSH 0x4b3e68
PUSH ECX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x00406760
MOV DL,byte ptr [ESP + 0x10]
PUSH 0x4b2bd0
OR DL,0x8
MOV byte ptr [ESP + 0x14],DL
MOV EDX,dword ptr [ESI + 0x4]
PUSH EDX
CALL 0x00407a90
ADD ESP,0x8
MOV dword ptr [ESP + 0x14],EAX
JMP 0x0040690e
MOV EAX,dword ptr [ESI]
PUSH 0x4b3e5c
PUSH EAX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x00406793
MOV ECX,dword ptr [ESI + 0x4]
PUSH EAX
LEA EDX,[ESP + 0x14]
PUSH ECX
PUSH EDX
CALL 0x00407cd0
ADD ESP,0xc
TEST EAX,EAX
JZ 0x00406a20
JMP 0x0040690e
MOV EAX,dword ptr [ESI]
PUSH 0x4b3e50
PUSH EAX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x004067e9
MOV ECX,dword ptr [ESI + 0x4]
PUSH 0x4b3e44
PUSH ECX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x004067c6
OR byte ptr [ESP + 0x10],0x10
JMP 0x0040690e
MOV EDX,dword ptr [ESI + 0x4]
PUSH 0x4b3e38
PUSH EDX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x00406a20
OR byte ptr [ESP + 0x10],0x20
JMP 0x0040690e
MOV EAX,dword ptr [ESP + 0x144]
TEST EAX,EAX
JL 0x004067f8
CMP EAX,EDI
JNZ 0x0040683d
MOV EAX,dword ptr [ESI]
PUSH 0x4b3e2c
PUSH EAX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x0040683d
TEST EDI,EDI
JNZ 0x00406824
MOV ECX,dword ptr [ESP + 0x14]
MOV dword ptr [ECX*0x4 + 0xec8880],0x1
JMP 0x0040690e
CMP EDI,0x1
JNZ 0x00406a20
MOV EDX,dword ptr [ESP + 0x14]
MOV dword ptr [EDX*0x4 + 0xec8790],EDI
JMP 0x0040690e
MOV EAX,dword ptr [ESI]
PUSH 0x4b3e20
PUSH EAX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x00406869
MOV ECX,dword ptr [ESI + 0x4]
PUSH ECX
CALL 0x0049ef90
FSTP dword ptr [EDI*0x4 + 0xec8780]
ADD ESP,0x4
JMP 0x0040690e
MOV EDX,dword ptr [ESI]
PUSH 0x4b3e14
PUSH EDX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x00406899
TEST EDI,EDI
JNZ 0x0040690e
MOV EAX,dword ptr [ESI + 0x4]
PUSH EAX
CALL 0x0049ef90
FSTP dword ptr [0x00ec876c]
ADD ESP,0x4
JMP 0x0040690e
MOV ECX,dword ptr [ESI]
PUSH 0x4b3e0c
PUSH ECX
CALL 0x0049ec50
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x0040690e
MOV EDX,dword ptr [ESI + 0x4]
PUSH 0x4b3e04
PUSH EDX
CALL 0x0049ec50
ADD ESP,0x8
NEG EAX
SBB EAX,EAX
INC EAX
TEST EDI,EDI
JNZ 0x004068ec
TEST EAX,EAX
JZ 0x004068e0
MOV EAX,[0x004b294c]
TEST EAX,EAX
JZ 0x004068e0
MOV dword ptr [0x004b2944],0x1
JMP 0x0040690e
MOV dword ptr [0x004b2944],0x0
JMP 0x0040690e
CMP EDI,0x1
JNZ 0x0040690e
TEST EAX,EAX
JZ 0x00406904
MOV EAX,[0x004b2950]
MOV dword ptr [0x004d6b38],EDI
TEST EAX,EAX
JNZ 0x0040690e
MOV dword ptr [0x004d6b38],0x0
MOV EAX,dword ptr [ESP + 0x14]
TEST EAX,EAX
JL 0x00406a20
MOV EAX,[0x00ec8e80]
INC EBX
ADD ESI,0x8
CMP EBX,EAX
JC 0x0040664f
MOV EAX,dword ptr [ESP + 0x144]
TEST EAX,EAX
JL 0x0040693a
CMP EAX,EDI
JNZ 0x00406974
CMP dword ptr [ESP + 0x18],-0x1
JLE 0x00406974
MOV EAX,dword ptr [EDI*0x4 + 0x4d5e20]
MOV EDX,dword ptr [ESP + 0x10]
LEA EAX,[EAX + EAX*0x2]
LEA ECX,[EBP + EAX*0x4]
MOV dword ptr [EBP + EAX*0x4],EDX
MOV EAX,dword ptr [ESP + 0x14]
MOV dword ptr [ECX + 0x4],EAX
MOV EDX,dword ptr [ESP + 0x18]
MOV dword ptr [ECX + 0x8],EDX
MOV EAX,dword ptr [EDI*0x4 + 0x4d5e20]
INC EAX
MOV dword ptr [EDI*0x4 + 0x4d5e20],EAX
CALL 0x00487ae0
MOV EBX,dword ptr [ESP + 0x144]
TEST EAX,EAX
JNZ 0x004065ef
TEST EBX,EBX
JL 0x00406991
CMP EBX,0x2
JNZ 0x004069c2
MOV EAX,[0x004d5e28]
MOV EDX,0xa
MOV byte ptr [ESP + 0x10],DL
MOV EDI,dword ptr [ESP + 0x10]
LEA ESI,[EAX + EAX*0x2]
MOV ECX,0x1
INC EAX
LEA ESI,[ESI*0x4 + 0x4d6828]
MOV [0x004d5e28],EAX
MOV dword ptr [ESI],EDI
MOV dword ptr [ESI + 0x4],ECX
MOV dword ptr [ESI + 0x8],EDX
JMP 0x004069c7
MOV EAX,[0x004d5e28]
TEST EBX,EBX
MOV DL,0xff
JL 0x004069cf
JNZ 0x004069df
MOV ECX,dword ptr [0x004d5e20]
LEA ECX,[ECX + ECX*0x2]
MOV byte ptr [ECX*0x4 + 0x4d5fc0],DL
TEST EBX,EBX
JL 0x004069e8
CMP EBX,0x1
JNZ 0x004069f8
MOV ECX,dword ptr [0x004d5e24]
LEA ECX,[ECX + ECX*0x2]
MOV byte ptr [ECX*0x4 + 0x4d6518],DL
TEST EBX,EBX
JL 0x00406a01
CMP EBX,0x2
JNZ 0x00406a0b
LEA EAX,[EAX + EAX*0x2]
MOV byte ptr [EAX*0x4 + 0x4d6828],DL
CALL 0x00487900
MOV EAX,0x1
POP EDI
POP ESI
POP EBP
POP EBX
ADD ESP,0x130
RET
MOV EAX,dword ptr [ESP + 0x144]
PUSH EAX
CALL 0x00407800
ADD ESP,0x4
CALL 0x00487900
POP EDI
POP ESI
POP EBP
XOR EAX,EAX
POP EBX
ADD ESP,0x130
RET
