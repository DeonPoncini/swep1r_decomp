; FUN_00487b20
PUSH EBX
PUSH EBP
PUSH ESI
MOV ESI,dword ptr [0x00ec9e84]
PUSH EDI
XOR EBP,EBP
MOV EBX,0xfff
TEST EBX,EBX
JBE 0x00487be8
MOV EAX,[0x00529504]
MOV ECX,dword ptr [0x00ecc420]
PUSH EBX
PUSH ESI
PUSH EAX
CALL dword ptr [ECX + 0x3c]
ADD ESP,0xc
TEST EAX,EAX
JZ 0x00487be1
MOV EDX,dword ptr [0x005284f8]
INC EDX
MOV dword ptr [0x005284f8],EDX
MOV AL,byte ptr [ESI]
CMP AL,0x3b
JZ 0x00487bcf
CMP AL,0x23
JZ 0x00487bcf
CMP AL,0xa
JZ 0x00487bcf
CMP AL,0xd
JZ 0x00487bcf
PUSH 0x23
PUSH ESI
CALL 0x0049fb10
ADD ESP,0x8
TEST EAX,EAX
JZ 0x00487b86
MOV byte ptr [EAX],0x0
PUSH ESI
CALL 0x0049edd0
MOV EDX,dword ptr [0x00ec9e84]
OR ECX,0xffffffff
MOV EDI,EDX
XOR EAX,EAX
ADD ESP,0x4
SCASB.REPNE ES:EDI
NOT ECX
DEC ECX
CMP byte ptr [ECX + EDX*0x1 + -0x2],0x5c
LEA EAX,[ECX + EDX*0x1 + -0x2]
JNZ 0x00487bb7
MOV EBX,0x1000
MOV ESI,EAX
SUB EBX,ECX
JMP 0x00487bcf
MOV AL,byte ptr [ECX + EDX*0x1 + -0x1]
LEA ECX,[ECX + EDX*0x1 + -0x1]
CMP AL,0xd
MOV EBP,0x1
JZ 0x00487bcc
CMP AL,0xa
JNZ 0x00487bcf
MOV byte ptr [ECX],0x0
TEST EBP,EBP
JZ 0x00487b31
MOV EAX,0x1
POP EDI
POP ESI
POP EBP
POP EBX
RET
XOR EAX,EAX
POP EDI
POP ESI
POP EBP
POP EBX
RET
POP EDI
POP ESI
POP EBP
MOV EAX,0x1
POP EBX
RET
