; FUN_004a2840
SUB ESP,0x28
LEA EAX,[ESP + 0x10]
LEA ECX,[ESP]
PUSH EBX
PUSH EBP
PUSH ESI
PUSH EDI
PUSH EAX
MOV EAX,dword ptr [ESP + 0x40]
PUSH ECX
MOV EDX,dword ptr [EAX + 0x4]
MOV EAX,dword ptr [EAX]
PUSH EDX
PUSH EAX
CALL 0x004a73d0
MOV ECX,dword ptr [ESP + 0x24]
MOV EBP,dword ptr [ESP + 0x50]
MOV EBX,dword ptr [ESP + 0x54]
ADD ESP,0x10
LEA EDI,[ECX + -0x1]
MOV ECX,dword ptr [ESP + 0x10]
XOR EDX,EDX
CMP ECX,0x2d
SETZ DL
ADD EDX,EBP
LEA EAX,[ESP + 0x10]
MOV ESI,EDX
PUSH EAX
PUSH EBX
PUSH ESI
CALL 0x004a7330
MOV ECX,dword ptr [ESP + 0x20]
ADD ESP,0xc
LEA EAX,[ECX + -0x1]
XOR ECX,ECX
CMP EDI,EAX
SETL CL
CMP EAX,-0x4
JL 0x004a28d8
CMP EAX,EBX
JGE 0x004a28d8
TEST CL,CL
JZ 0x004a28bf
MOV DL,byte ptr [ESI]
INC ESI
TEST DL,DL
JZ 0x004a28bb
MOV AL,byte ptr [ESI]
INC ESI
TEST AL,AL
JNZ 0x004a28b4
MOV byte ptr [ESI + -0x2],0x0
LEA ECX,[ESP + 0x10]
PUSH 0x1
PUSH ECX
PUSH EBX
PUSH EBP
CALL 0x004a2780
ADD ESP,0x10
POP EDI
POP ESI
POP EBP
POP EBX
ADD ESP,0x28
RET
MOV EAX,dword ptr [ESP + 0x48]
LEA EDX,[ESP + 0x10]
PUSH 0x1
PUSH EDX
PUSH EAX
PUSH EBX
PUSH EBP
CALL 0x004a2610
ADD ESP,0x14
POP EDI
POP ESI
POP EBP
POP EBX
ADD ESP,0x28
RET
