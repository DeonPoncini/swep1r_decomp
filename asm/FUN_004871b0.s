; FUN_004871b0
PUSH ESI
PUSH EDI
MOV ECX,0xdc
XOR EAX,EAX
MOV EDI,0x50fee0
MOV dword ptr [0x00510250],0x0
STOSD.REP ES:EDI
MOV EAX,[0x0051386c]
TEST EAX,EAX
JZ 0x004871ec
MOV EAX,[0x00510254]
PUSH 0x0
PUSH 0x0
PUSH 0x4874a0
MOV ECX,dword ptr [EAX]
PUSH 0x0
PUSH EAX
CALL dword ptr [ECX + 0x30]
POP EDI
POP ESI
RET
MOV EAX,dword ptr [ESP + 0xc]
MOV ECX,dword ptr [0x00513870]
CMP EAX,ECX
JNC 0x00487224
MOV ECX,dword ptr [0x00510254]
MOV ESI,EAX
SHL ESI,0x6
MOV EDX,dword ptr [ECX]
ADD ESI,EAX
PUSH 0x80
PUSH 0x0
LEA EAX,[ESI*0x4 + 0x5117e8]
PUSH 0x4874a0
PUSH EAX
PUSH ECX
CALL dword ptr [EDX + 0x30]
POP EDI
POP ESI
RET
POP EDI
MOV EAX,0x80004005
POP ESI
RET
