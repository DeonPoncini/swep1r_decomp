; FUN_00487230
MOV EAX,dword ptr [ESP + 0x4]
SUB ESP,0x50
TEST EAX,EAX
PUSH EBX
PUSH ESI
PUSH EDI
MOV EBX,0x41
JZ 0x00487248
MOV EBX,0x51
MOV ECX,0x820
XOR EAX,EAX
MOV EDI,0x5117e8
MOV dword ptr [0x00513870],0x0
STOSD.REP ES:EDI
MOV ECX,0x14
LEA EDI,[ESP + 0xc]
STOSD.REP ES:EDI
MOV dword ptr [ESP + 0xc],0x50
CALL 0x0048c7e0
MOV ECX,dword ptr [EAX]
MOV ESI,dword ptr [ESP + 0x64]
MOV dword ptr [ESP + 0x24],ECX
MOV EDX,dword ptr [EAX + 0x4]
MOV dword ptr [ESP + 0x28],EDX
MOV ECX,dword ptr [EAX + 0x8]
MOV dword ptr [ESP + 0x2c],ECX
MOV EDX,dword ptr [EAX + 0xc]
TEST ESI,ESI
MOV dword ptr [ESP + 0x30],EDX
JZ 0x004872ac
PUSH ESI
CALL 0x004a1150
ADD ESP,0x4
TEST EAX,EAX
JZ 0x004872ac
MOV dword ptr [ESP + 0x40],ESI
MOV EAX,[0x00510254]
PUSH EBX
MOV ESI,dword ptr [EAX]
CALL 0x0048c780
MOV EDX,dword ptr [0x00510254]
PUSH EAX
PUSH 0x487450
LEA ECX,[ESP + 0x18]
PUSH 0x0
PUSH ECX
PUSH EDX
CALL dword ptr [ESI + 0x34]
POP EDI
POP ESI
POP EBX
ADD ESP,0x50
RET
