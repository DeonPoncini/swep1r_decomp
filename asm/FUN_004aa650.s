; FUN_004aa650
SUB ESP,0xc
PUSH EBX
PUSH ESI
MOV ESI,dword ptr [ESP + 0x1c]
PUSH EDI
MOV EDI,0x4d5250
SUB EDI,0x60
TEST ESI,ESI
JZ 0x004aa6d3
JGE 0x004aa672
MOV EDI,0x4d53b0
NEG ESI
SUB EDI,0x60
MOV EAX,dword ptr [ESP + 0x24]
MOV EBX,dword ptr [ESP + 0x1c]
TEST EAX,EAX
JNZ 0x004aa683
MOV word ptr [EBX],0x0
TEST ESI,ESI
JZ 0x004aa6d3
MOV EAX,ESI
ADD EDI,0x54
AND EAX,0x7
SAR ESI,0x3
TEST EAX,EAX
JZ 0x004aa6cf
LEA EAX,[EAX + EAX*0x2]
CMP word ptr [EDI + EAX*0x4],0x8000
LEA EAX,[EDI + EAX*0x4]
JC 0x004aa6c5
MOV ECX,dword ptr [EAX]
MOV dword ptr [ESP + 0xc],ECX
MOV EDX,dword ptr [EAX + 0x4]
MOV dword ptr [ESP + 0x10],EDX
MOV EAX,dword ptr [EAX + 0x8]
MOV dword ptr [ESP + 0x14],EAX
MOV EAX,dword ptr [ESP + 0xe]
DEC EAX
MOV dword ptr [ESP + 0xe],EAX
LEA EAX,[ESP + 0xc]
PUSH EAX
PUSH EBX
CALL 0x004aa390
ADD ESP,0x8
TEST ESI,ESI
JNZ 0x004aa687
POP EDI
POP ESI
POP EBX
ADD ESP,0xc
RET
