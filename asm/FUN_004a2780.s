; FUN_004a2780
MOV CL,byte ptr [ESP + 0x10]
PUSH EBX
PUSH EBP
PUSH ESI
MOV ESI,dword ptr [ESP + 0x18]
MOV EBP,dword ptr [ESP + 0x14]
MOV EBX,dword ptr [ESP + 0x10]
PUSH EDI
MOV EAX,dword ptr [ESI + 0x4]
DEC EAX
TEST CL,CL
JZ 0x004a27b5
MOV EDX,dword ptr [ESI]
XOR ECX,ECX
CMP EDX,0x2d
SETZ CL
ADD ECX,EBX
CMP EAX,EBP
JNZ 0x004a27b5
MOV byte ptr [EAX + ECX*0x1],0x30
MOV byte ptr [EAX + ECX*0x1 + 0x1],0x0
MOV EAX,dword ptr [ESI]
MOV EDI,EBX
CMP EAX,0x2d
JNZ 0x004a27c4
MOV byte ptr [EBX],0x2d
LEA EDI,[EBX + 0x1]
MOV EAX,dword ptr [ESI + 0x4]
TEST EAX,EAX
JG 0x004a27dc
PUSH 0x1
PUSH EDI
CALL 0x004a2970
ADD ESP,0x8
MOV byte ptr [EDI],0x30
INC EDI
JMP 0x004a27de
ADD EDI,EAX
TEST EBP,EBP
JLE 0x004a282f
PUSH 0x1
PUSH EDI
CALL 0x004a2970
MOV AL,[0x004d1fa0]
ADD ESP,0x8
MOV byte ptr [EDI],AL
MOV ESI,dword ptr [ESI + 0x4]
INC EDI
TEST ESI,ESI
JGE 0x004a282f
MOV AL,byte ptr [ESP + 0x20]
TEST AL,AL
JZ 0x004a2808
NEG ESI
JMP 0x004a280e
NEG ESI
CMP EBP,ESI
JL 0x004a2810
MOV EBP,ESI
PUSH EBP
PUSH EDI
CALL 0x004a2970
MOV ECX,EBP
MOV EAX,0x30303030
MOV EDX,ECX
ADD ESP,0x8
SHR ECX,0x2
STOSD.REP ES:EDI
MOV ECX,EDX
AND ECX,0x3
STOSB.REP ES:EDI
POP EDI
POP ESI
MOV EAX,EBX
POP EBP
POP EBX
RET
