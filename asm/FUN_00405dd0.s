; FUN_00405dd0
PUSH EBX
MOV EBX,dword ptr [ESP + 0xc]
PUSH EBP
MOV EBP,dword ptr [ESP + 0xc]
PUSH ESI
PUSH EDI
XOR EDI,EDI
CMP EBP,0x1
JNZ 0x00405e28
XOR ESI,ESI
LEA EAX,[ESI + 0x200]
PUSH 0x0
PUSH EAX
CALL 0x00485880
ADD ESP,0x8
TEST EAX,EAX
JZ 0x00405e0d
TEST EBX,EBX
JZ 0x00405e8f
MOV EDX,0x1
MOV ECX,ESI
SHL EDX,CL
OR EDI,EDX
INC ESI
CMP ESI,0x4
JL 0x00405de5
TEST EBX,EBX
JZ 0x00405e1e
CMP EBP,0x2
MOV EAX,EDI
JNZ 0x00405e23
MOV EAX,0xffff
POP EDI
POP ESI
POP EBP
POP EBX
RET
TEST EBP,EBP
JNZ 0x00405e61
XOR ESI,ESI
MOV EAX,[0x004d6b3c]
PUSH 0x0
ADD EAX,0x8
SHL EAX,0x5
ADD EAX,ESI
PUSH EAX
CALL 0x00485880
ADD ESP,0x8
TEST EAX,EAX
JZ 0x00405e59
TEST EBX,EBX
JZ 0x00405e8f
MOV EDX,0x1
MOV ECX,ESI
SHL EDX,CL
OR EDI,EDX
INC ESI
CMP ESI,0x20
JL 0x00405e2e
JMP 0x00405e13
CMP EBP,0x2
JNZ 0x00405e13
XOR ESI,ESI
PUSH 0x0
PUSH ESI
CALL 0x00485880
ADD ESP,0x8
TEST EAX,EAX
JZ 0x00405e84
PUSH ESI
CALL 0x00408020
ADD ESP,0x4
TEST EAX,EAX
JZ 0x00405e8f
INC ESI
CMP ESI,0x100
JL 0x00405e68
JMP 0x00405e13
MOV EAX,ESI
POP EDI
POP ESI
POP EBP
POP EBX
RET
