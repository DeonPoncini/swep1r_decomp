; FUN_00413610
PUSH EBP
MOV EBP,dword ptr [ESP + 0x8]
TEST EBP,EBP
JZ 0x004136e3
MOV EAX,dword ptr [ESP + 0xc]
PUSH EDI
PUSH ESI
PUSH EBX
TEST EAX,EAX
JZ 0x004136c3
MOV EDI,dword ptr [EBP + 0x8]
MOV ESI,dword ptr [EDI + 0xc]
TEST ESI,ESI
JZ 0x004136ae
MOV EBX,0x100000
MOV EAX,dword ptr [ESI + 0x18]
AND EAX,0xc
CMP AL,0xc
JNZ 0x004136a7
PUSH 0x46
CALL 0x00440550
MOV EAX,dword ptr [EDI + 0x508]
ADD ESP,0x4
TEST EBX,EAX
JNZ 0x0041369d
MOV ECX,dword ptr [ESI + 0x18]
AND ECX,0x3
CMP CL,0x3
JZ 0x0041369d
PUSH 0x0
PUSH 0x0
PUSH 0x0
PUSH 0x0
PUSH 0x0
PUSH ESI
CALL 0x00412fb0
ADD ESP,0x18
PUSH 0x0
PUSH 0x0
PUSH 0x0
PUSH 0x0
PUSH 0x1
PUSH ESI
CALL 0x00412fb0
ADD ESP,0x18
PUSH 0x0
PUSH 0x0
PUSH 0x0
PUSH 0x0
PUSH 0x2
PUSH ESI
CALL 0x00412fb0
ADD ESP,0x18
AND dword ptr [ESI + 0x508],0xfff7ffff
MOV ESI,dword ptr [ESI + 0x4]
TEST ESI,ESI
JNZ 0x0041363b
MOV EAX,dword ptr [ESP + 0x18]
TEST EAX,EAX
JZ 0x004136c3
MOV EAX,dword ptr [EBP + 0x508]
OR EAX,0x80000
JMP 0x004136ce
MOV EAX,dword ptr [EBP + 0x508]
AND EAX,0xfff7ffff
MOV EDX,dword ptr [EBP + 0x8]
MOV dword ptr [EBP + 0x508],EAX
PUSH EDX
CALL 0x00417ca0
ADD ESP,0x4
POP EBX
POP ESI
POP EDI
POP EBP
RET
