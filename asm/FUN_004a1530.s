; FUN_004a1530
PUSH EBX
MOV EBX,dword ptr [ESP + 0xc]
PUSH EBP
MOV EBP,dword ptr [ESP + 0xc]
PUSH EDI
MOV EDI,EBP
TEST EBX,EBX
MOV dword ptr [ESP + 0x10],EBP
JG 0x004a154b
XOR EAX,EAX
POP EDI
POP EBP
POP EBX
RET
PUSH ESI
MOV ESI,dword ptr [ESP + 0x1c]
PUSH ESI
CALL 0x004a1710
ADD ESP,0x4
DEC EBX
JZ 0x004a1588
MOV EAX,dword ptr [ESI + 0x4]
DEC EAX
MOV dword ptr [ESI + 0x4],EAX
JS 0x004a1570
MOV ECX,dword ptr [ESI]
XOR EAX,EAX
MOV AL,byte ptr [ECX]
INC ECX
MOV dword ptr [ESI],ECX
JMP 0x004a1579
PUSH ESI
CALL 0x004a40f0
ADD ESP,0x4
CMP EAX,-0x1
JZ 0x004a159f
MOV byte ptr [EDI],AL
INC EDI
CMP AL,0xa
JZ 0x004a1588
DEC EBX
JNZ 0x004a155c
MOV byte ptr [EDI],0x0
MOV EDI,dword ptr [ESP + 0x14]
PUSH ESI
CALL 0x004a1780
ADD ESP,0x4
MOV EAX,EDI
POP ESI
POP EDI
POP EBP
POP EBX
RET
CMP EDI,EBP
JNZ 0x004a1588
PUSH ESI
XOR EDI,EDI
CALL 0x004a1780
ADD ESP,0x4
MOV EAX,EDI
POP ESI
POP EDI
POP EBP
POP EBX
RET
