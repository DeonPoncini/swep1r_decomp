; FUN_004079f0
MOV EAX,dword ptr [ESP + 0x4]
PUSH EBX
PUSH ESI
XOR ESI,ESI
OR EDX,0xffffffff
TEST EAX,EAX
PUSH EDI
JNZ 0x00407a07
MOV EDI,0x4d5fc0
JMP 0x00407a21
CMP EAX,0x1
JNZ 0x00407a13
MOV EDI,0x4d6518
JMP 0x00407a21
CMP EAX,0x2
MOV EDI,0x4d6828
JZ 0x00407a21
MOV EDI,dword ptr [ESP + 0x10]
MOV ECX,dword ptr [ESP + 0x18]
MOV AL,byte ptr [EDI]
NEG ECX
SBB CL,CL
AND CL,0xfc
ADD CL,0x8
CMP AL,0xff
JZ 0x00407a55
MOV EBX,dword ptr [ESP + 0x14]
MOV EAX,EDI
TEST EDX,EDX
JGE 0x00407a60
CMP dword ptr [EAX + 0x4],EBX
JNZ 0x00407a4c
TEST byte ptr [EAX],CL
JZ 0x00407a4c
MOV EDX,ESI
JMP 0x00407a50
INC ESI
ADD EAX,0xc
CMP byte ptr [EAX],0xff
JNZ 0x00407a3b
TEST EDX,EDX
JGE 0x00407a60
OR EAX,0xffffffff
POP EDI
POP ESI
POP EBX
RET
LEA EAX,[EDX + EDX*0x2]
MOV EDX,dword ptr [ESP + 0x1c]
LEA ECX,[EDI + EAX*0x4]
MOV AL,byte ptr [EDI + EAX*0x4]
TEST AL,0x8
MOV byte ptr [EDX],AL
JNZ 0x00407a77
AND AL,0xcf
MOV byte ptr [EDX],AL
MOV AL,byte ptr [EDX]
POP EDI
AND AL,0xf3
POP ESI
MOV byte ptr [EDX],AL
MOV EAX,dword ptr [ECX + 0x8]
POP EBX
RET
