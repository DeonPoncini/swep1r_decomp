; FUN_004a6ef0
PUSH ECX
MOV EAX,dword ptr [ESP + 0xc]
PUSH EBX
PUSH EBP
PUSH ESI
LEA EBP,[EAX + -0x1]
MOV EBX,dword ptr [ESP + 0x14]
MOV dword ptr [ESP + 0x18],EBP
INC EBP
MOV EAX,EBP
PUSH EDI
CDQ
AND EDX,0x1f
MOV EDI,0x1f
ADD EAX,EDX
MOV dword ptr [ESP + 0x10],0x0
MOV ESI,EAX
MOV EAX,EBP
CDQ
XOR EAX,EDX
SUB EAX,EDX
AND EAX,0x1f
XOR EAX,EDX
SUB EAX,EDX
MOV EDX,0x1
SUB EDI,EAX
MOV ECX,EDI
SAR ESI,0x5
SHL EDX,CL
TEST dword ptr [EBX + ESI*0x4],EDX
JZ 0x004a6f5e
INC EBP
PUSH EBP
PUSH EBX
CALL 0x004a6e10
ADD ESP,0x8
TEST EAX,EAX
JNZ 0x004a6f5e
MOV EAX,dword ptr [ESP + 0x1c]
PUSH EAX
PUSH EBX
CALL 0x004a6e80
ADD ESP,0x8
MOV EDX,EAX
JMP 0x004a6f62
MOV EDX,dword ptr [ESP + 0x10]
OR EAX,0xffffffff
MOV ECX,EDI
SHL EAX,CL
MOV ECX,dword ptr [EBX + ESI*0x4]
AND ECX,EAX
MOV dword ptr [EBX + ESI*0x4],ECX
INC ESI
CMP ESI,0x3
JGE 0x004a6f85
MOV ECX,0x3
LEA EDI,[EBX + ESI*0x4]
SUB ECX,ESI
XOR EAX,EAX
STOSD.REP ES:EDI
POP EDI
POP ESI
POP EBP
MOV EAX,EDX
POP EBX
POP ECX
RET
