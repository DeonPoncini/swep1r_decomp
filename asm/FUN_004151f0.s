; FUN_004151f0
MOV EAX,[0x004d879c]
PUSH EBX
TEST EAX,EAX
PUSH EDI
JZ 0x004153fd
MOV EDI,dword ptr [ESP + 0xc]
TEST byte ptr [EDI + 0x20],0x40
JZ 0x004153fd
MOV EAX,dword ptr [EDI + 0x5c]
XOR EBX,EBX
TEST EAX,EAX
JLE 0x004153fd
PUSH ESI
PUSH EBP
LEA ESI,[EDI + 0x64]
MOV EBP,0x100
MOV EAX,dword ptr [ESI]
TEST EAX,EAX
JZ 0x0041523d
MOV ECX,dword ptr [ESI + 0x4]
TEST ECX,ECX
JNZ 0x0041523d
PUSH EAX
CALL 0x00412f20
ADD ESP,0x4
MOV dword ptr [ESI + 0x4],EAX
MOV EAX,dword ptr [ESI]
PUSH EAX
CALL 0x00417010
MOV CX,word ptr [ESI + 0x4]
ADD ESP,0x4
PUSH EAX
PUSH ECX
CALL 0x004282f0
MOV DX,word ptr [ESI + 0x2c]
MOV AX,word ptr [ESI + 0x28]
ADD DX,word ptr [ESI + 0x14]
ADD AX,word ptr [ESI + 0x10]
MOV CX,word ptr [ESI + 0x4]
ADD ESP,0x8
PUSH EDX
PUSH EAX
PUSH ECX
CALL 0x00428660
MOV EAX,dword ptr [ESI + -0x4]
ADD ESP,0xc
TEST EAX,0x80000
JZ 0x004152aa
MOV EDX,dword ptr [EDI + 0x30]
MOV ECX,dword ptr [ESI + 0x1c]
MOV EAX,dword ptr [ESI + 0x14]
SUB EDX,ECX
MOV ECX,dword ptr [EDI + 0x28]
ADD EDX,EAX
MOV AX,word ptr [EDI + 0x24]
SUB EDX,ECX
MOV CX,word ptr [ESI + 0x4]
SAR EDX,0x1
ADD DX,word ptr [EDI + 0x28]
PUSH EDX
PUSH EAX
PUSH ECX
CALL 0x00428660
ADD ESP,0xc
TEST dword ptr [ESI + -0x4],0x40000
JZ 0x004152de
MOV DX,word ptr [EDI + 0x28]
MOV EAX,dword ptr [EDI + 0x2c]
MOV ECX,dword ptr [ESI + 0x10]
PUSH EDX
MOV EDX,dword ptr [ESI + 0x18]
SUB EAX,EDX
MOV EDX,dword ptr [EDI + 0x24]
ADD EAX,ECX
MOV CX,word ptr [ESI + 0x4]
SUB EAX,EDX
SAR EAX,0x1
ADD AX,word ptr [EDI + 0x24]
PUSH EAX
PUSH ECX
CALL 0x00428660
ADD ESP,0xc
TEST dword ptr [ESI + -0x4],0x100000
JZ 0x00415326
MOV EDX,dword ptr [EDI + 0x30]
MOV ECX,dword ptr [ESI + 0x1c]
MOV EAX,dword ptr [ESI + 0x14]
SUB EDX,ECX
MOV ECX,dword ptr [EDI + 0x28]
ADD EDX,EAX
SUB EDX,ECX
MOV EAX,dword ptr [EDI + 0x2c]
SAR EDX,0x1
ADD DX,word ptr [EDI + 0x28]
MOV ECX,dword ptr [ESI + 0x10]
PUSH EDX
MOV EDX,dword ptr [ESI + 0x18]
SUB EAX,EDX
MOV EDX,dword ptr [EDI + 0x24]
ADD EAX,ECX
MOV CX,word ptr [ESI + 0x4]
SUB EAX,EDX
SAR EAX,0x1
ADD AX,word ptr [EDI + 0x24]
PUSH EAX
PUSH ECX
CALL 0x00428660
ADD ESP,0xc
TEST dword ptr [ESI + -0x4],0x200000
JZ 0x0041533e
MOV DX,word ptr [ESI + 0x4]
PUSH 0x8
PUSH EDX
CALL 0x004287e0
ADD ESP,0x8
TEST dword ptr [ESI + -0x4],0x400000
JZ 0x00415356
MOV AX,word ptr [ESI + 0x4]
PUSH 0x4
PUSH EAX
CALL 0x004287e0
ADD ESP,0x8
TEST dword ptr [ESI + -0x4],0x800000
JZ 0x00415371
MOV CX,word ptr [ESI + 0x4]
PUSH 0x8000
PUSH ECX
CALL 0x004287e0
ADD ESP,0x8
TEST dword ptr [ESI + -0x4],0x1000000
JZ 0x0041538c
MOV DX,word ptr [ESI + 0x4]
PUSH 0x800
PUSH EDX
CALL 0x004287e0
ADD ESP,0x8
MOV EAX,dword ptr [ESI + 0xc]
MOV ECX,dword ptr [ESI + 0x8]
MOV DX,word ptr [ESI + 0x4]
PUSH EAX
PUSH ECX
PUSH EDX
CALL 0x004286f0
MOV EAX,dword ptr [EDI + 0x20]
ADD ESP,0xc
TEST EBP,EAX
MOV EAX,0x64
JNZ 0x004153b1
MOVSX EAX,byte ptr [ESI + 0x33]
MOV CL,byte ptr [ESI + 0x31]
MOV DL,byte ptr [ESI + 0x30]
PUSH EAX
MOV AL,byte ptr [ESI + 0x32]
PUSH EAX
MOV AX,word ptr [ESI + 0x4]
PUSH ECX
PUSH EDX
PUSH EAX
CALL 0x00428740
MOV CX,word ptr [ESI + 0x4]
ADD ESP,0x14
PUSH 0x1
PUSH ECX
CALL 0x004285d0
MOV DX,word ptr [ESI + 0x4]
ADD ESP,0x8
PUSH 0x10000
PUSH EDX
CALL 0x004287e0
MOV EAX,dword ptr [EDI + 0x5c]
ADD ESP,0x8
INC EBX
ADD ESI,0x38
CMP EBX,EAX
JL 0x00415224
POP EBP
POP ESI
POP EDI
POP EBX
RET
